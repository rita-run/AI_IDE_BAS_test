# Use Case: Запись на занятие в фитнес-студии

## UC-001: Онлайн-запись клиента
**User Story:** US-001  
**Участники:**  
- Основной: Клиент  
- Вторичные: Мобильное приложение, Система бронирования  

**Предусловия:**  
- Клиент авторизован в приложении  
- Занятия доступны для записи  

**Ограничения:**  
- Максимум 1 запись на одно время  
- Отмена возможна за 2+ часа до занятия  

**Триггер:** Клиент нажимает "Записаться"  

**Основной сценарий:**  
1. Система показывает доступные классы и время  
2. Клиент выбирает занятие и время  
3. Система проверяет свободные места  
4. Система подтверждает запись  
5. Клиент получает подтверждение  

**Альтернативные сценарии:**  
п.3: Нет мест → предложить waitlist  
п.4: Ошибка оплаты → отменить запись  

**Постусловия:**  
- Запись сохранена в системе  
- Клиент получил подтверждение  

## UC-002: Отмена записи
**User Story:** US-004  
**Участники:** Клиент, Система уведомлений  

**Триггер:** Клиент нажимает "Отменить запись"  

**Основной сценарий:**  
1. Система проверяет срок отмены (≥2ч)  
2. Система освобождает место  
3. Клиент получает подтверждение отмены  

**Альтернативные сценарии:**  
п.1: Менее 2ч → предупреждение о штрафе

## UC-003: Экспорт отчета о посещениях в PDF
**User Story:** US-005
**Участники:**
- Основной: Клиент
- Вторичные: Сервис отчетов, PDF Generator

**Предусловия:**
- Клиент авторизован в системе
- Имеются данные о посещениях

**Триггер:** Клиент нажимает "Экспорт отчета"

**Основной сценарий:**
1. Клиент выбирает период для отчета
2. Сервис отчетов запрашивает данные у сервиса бронирования
3. Сервис отчетов формирует данные для отчета
4. PDF Generator создает PDF документ
5. Клиент получает PDF файл

**Альтернативные сценарии:**
п.2: Нет данных за период → сообщение "Нет данных"
п.4: Ошибка генерации → уведомление об ошибке

**Постусловия:**
- Клиент получил PDF отчет
- Отчет сохранен в истории клиента